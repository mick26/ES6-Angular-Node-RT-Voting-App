{"version":3,"file":"C:/GitHub-Repos/2015/ES6-Traceur-MEAN-RT-Voting-App/public/src/js/controllers/newVoteController.js","sources":["@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/5","controllers/newVoteController.js","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/2"],"names":[],"mappings":"AAAA,KAAK,AAAC,ICAN,UAAS,AAAgB;;ACAzB,aAAW,CAAC;ACAZ,AAAI,IAAA,cDOW,SAAM,YAAU,CAElB,MAAK,CAAG,CAAA,SAAQ,CAAG,CAAA,aAAY,CAAG;AAK7C,SAAK,KAAK,EAAI;AACb,aAAO,CAAG,GAAC;AACX,YAAM,CAAG,EAAE,CAAE,IAAG,CAAG,GAAC,CAAE,CAAG,EAAE,IAAG,CAAG,GAAC,CAAE,CAAG,EAAE,IAAG,CAAG,GAAC,CAAE,CAAC;AAAA,IACpD,CAAC;AAKD,SAAK,UAAU,EAAI,UAAQ,AAAC,CAAE;AAC7B,WAAK,KAAK,QAAQ,KAAK,AAAC,CAAC,CAAE,IAAG,CAAG,GAAC,CAAE,CAAC,CAAC;IACvC,CAAC;AAKD,SAAK,WAAW,EAAI,UAAQ,AAAC,CAAE;AAC9B,AAAI,QAAA,CAAA,IAAG,EAAI,CAAA,MAAK,KAAK,CAAC;AACtB,WAAK,MAAM,EAAI,GAAC,CAAC;AAGjB,SAAG,IAAG,SAAS,OAAO,EAAI,EAAA,CAAG;AAC5B,AAAI,UAAA,CAAA,WAAU,EAAI,EAAA,CAAC;AAGnB,YAAQ,GAAA,CAAA,CAAA,EAAI,EAAA;AAAG,aAAC,EAAI,CAAA,IAAG,QAAQ,OAAO,CAAG,CAAA,CAAA,EAAI,GAAC,CAAG,CAAA,CAAA,EAAE,CAAG;AACrD,AAAI,YAAA,CAAA,MAAK,EAAI,CAAA,IAAG,QAAQ,CAAE,CAAA,CAAC,CAAC;AAE5B,aAAG,MAAK,KAAK,OAAO,EAAI,EAAA,CAAG;AAC1B,sBAAU,EAAE,CAAA;UACb;AAAA,QACD;AAAA,AAGA,WAAG,WAAU,EAAI,EAAA,CAAG;AAMnB,sBAAY,SAAS,AAAC,CAAC,IAAG,CAAC,KAEvB,AAAC,CAAC,SAAS,IAAG,CAAG;AACpB,iBAAK,MAAM,EAAI,+CAA6C,CAAC;UAC9D,CACA,UAAS,KAAI,CAAG;AACd,iBAAK,MAAM,EAAI,CAAA,qBAAoB,EAAI,KAAG,CAAC;UAC7C,CAAC,CAAC;QACH,KACK;AACJ,eAAK,MAAM,EAAI,sCAAoC,CAAC;QACrD;AAAA,MACD,KAEK;AACJ,aAAK,MAAM,EAAI,4BAA0B,CAAC;MAC3C;AAAA,IACD,CAAC;ECtEqC,ADuEvC,CCvEuC;ACAxC,EAAC,eAAc,YAAY,CAAC,AAAC,qBAAwD;ACArF,AAAI,IAAA,CAAA,UAAS,cAAoB,CAAA;AHwEhC,EAAA;AIxED;ACAA,gBAAwB;AAAE,uBAAwB;IAAE;ACApD,aAAS,CAAG,KAAG;AAAA,GFAQ;ALEnB,CDFuC,CAAC;AEyE5C","sourceRoot":"..","sourcesContent":["define($__placeholder__0, $__placeholder__1);","function($__placeholder__0) {\n      $__placeholder__1\n    }","'use strict';\r\n\r\n\r\n/*================================================================\r\n- Define a class\r\n- The class will be registered as a controller\r\n=================================================================*/\r\nexport default class PollNewCtrl {\r\n\r\n\tconstructor($scope, $location, votingService) {\r\n\r\n\t\t/*\r\n\t\t * Define an empty poll model object\r\n\t\t */\r\n\t\t$scope.poll = {\r\n\t\t\tquestion: '',\r\n\t\t\tchoices: [ { text: '' }, { text: '' }, { text: '' }]\r\n\t\t};\r\n\t\t\r\n\t\t/*\r\n\t\t * Method to add an additional choice option\r\n\t\t */\r\n\t\t$scope.addChoice = function() {\r\n\t\t\t$scope.poll.choices.push({ text: '' });\r\n\t\t};\r\n\t\t\r\n\t\t/*\r\n\t\t * Validate and save the new poll to the database\r\n\t\t */\r\n\t\t$scope.createPoll = function() {\r\n\t\t\tvar poll = $scope.poll;\r\n\t\t\t$scope.error = \"\";\r\n\t\t\t\r\n\t\t\t// Check that a question was provided\r\n\t\t\tif(poll.question.length > 0) {\r\n\t\t\t\tvar choiceCount = 0;\r\n\t\t\t\t\r\n\t\t\t\t// Loop through the choices, make sure at least two provided\r\n\t\t\t\tfor(var i = 0, ln = poll.choices.length; i < ln; i++) {\r\n\t\t\t\t\tvar choice = poll.choices[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(choice.text.length > 0) {\r\n\t\t\t\t\t\tchoiceCount++\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t\t\tif(choiceCount > 1) {\r\n\t\t\r\n\t\t\t\t\t/* ========================================================== \r\n\t\t\t\t\tCreate poll - \r\n\t\t\t\t\t============================================================ */\t\r\n\t\t\t\t\t//Request\r\n\t\t\t\t\tvotingService.castVote(poll)\r\n\t\t\t\t\t//response Handler\r\n\t\t\t\t\t.then(function(data) {\r\n\t\t\t\t\t\t$scope.error = \"Success! New Poll has been added to database\";\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(error) {\r\n\t\t\t\t\t \t$scope.error = \"Error Posting poll \" + data;\r\n\t\t\t\t\t});\r\n\t\t\t\t} \r\n\t\t\t\telse {\r\n\t\t\t\t\t$scope.error = \"You must enter at least two choices\";\r\n\t\t\t\t}\t\t\t\r\n\t\t\t} \r\n\r\n\t\t\telse {\r\n\t\t\t\t$scope.error = \"You must enter a question\";\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n};\r\n","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","var $__default = $__placeholder__0","return $__placeholder__0","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true"]}